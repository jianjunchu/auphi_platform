<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aofei.joblog.mapper.LogJobStepMapper">



    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
          LOG_JOB_STEP_ID AS logJobStepId
        , LOG_JOB_ID AS logJobId
        , CHANNEL_ID AS channelId
        , LOG_DATE AS logDate
        , JOBNAME AS jobname
        , STEPNAME AS stepname
        , LINES_READ AS linesRead
        , LINES_WRITTEN AS linesWritten
        , LINES_UPDATED AS linesUpdated
        , LINES_INPUT AS linesInput
        , LINES_OUTPUT AS linesOutput
        , LINES_REJECTED AS linesRejected
        , ERRORS AS errors
        , RESULT AS result
        , NR_RESULT_ROWS AS nrResultRows
        , NR_RESULT_FILES AS nrResultFiles
        , LOG_FIELD AS logField
        , COPY_NR AS copyNr
        , SETP_LOG AS setpLog
    </sql>

    <insert id="insert">
        insert into LOG_JOB_STEP (
              LOG_JOB_STEP_ID
            , LOG_JOB_ID
            , CHANNEL_ID
            , LOG_DATE
            , JOBNAME
            , STEPNAME
            , STEP_COPY
            , LINES_READ
            , LINES_WRITTEN
            , LINES_UPDATED
            , LINES_INPUT
            , LINES_OUTPUT
            , LINES_REJECTED
            , ERRORS
            , SETP_LOG
            , COSTTIME
            , SPEED
            , STATUS
        )values(
              #{logJobStepId}
            , #{logJobId}
            , #{channelId}
            , #{logDate}
            , #{jobname}
            , #{stepname}
            , #{stepCopy}
            , #{linesRead}
            , #{linesWritten}
            , #{linesUpdated}
            , #{linesInput}
            , #{linesOutput}
            , #{linesRejected}
            , #{errors}
            , #{setpLog}
            , #{costtime}
            , #{speed}
            , #{status}
        )
    </insert>

    <update id="updateById">
        update LOG_JOB_STEP
        <set>

              LOG_JOB_ID = #{et.logJobId}
            , CHANNEL_ID = #{et.channelId}
            , LOG_DATE = #{et.logDate}
            , JOBNAME = #{et.jobname}
            , STEPNAME = #{et.stepname}
            , STEP_COPY = #{et.stepCopy}
            , LINES_READ = #{et.linesRead}
            , LINES_WRITTEN = #{et.linesWritten}
            , LINES_UPDATED = #{et.linesUpdated}
            , LINES_INPUT = #{et.linesInput}
            , LINES_OUTPUT = #{et.linesOutput}
            , LINES_REJECTED = #{et.linesRejected}
            , ERRORS = #{et.errors}
            , SETP_LOG = #{et.setpLog}
            , COSTTIME = #{et.costtime}
            , SPEED = #{et.speed}
            , STATUS = #{et.status}

        </set>
        where LOG_JOB_STEP_ID = #{et.logJobStepId}
    </update>
</mapper>
